{"version":3,"sources":["webpack://webpack_playground/./node_modules/mersenne-twister/src/mersenne-twister.js","webpack://webpack_playground/./src/js/base.js","webpack://webpack_playground/./src/js/function.js","webpack://webpack_playground/./src/js/interpolation.js","webpack://webpack_playground/./src/js/particle-sys/fire.js","webpack://webpack_playground/./src/js/particle-sys/illusion.js","webpack://webpack_playground/./src/js/particle-sys/stardust.js","webpack://webpack_playground/./src/js/particle-sys/trail.js","webpack://webpack_playground/./src/js/shape.js","webpack://webpack_playground/webpack/bootstrap","webpack://webpack_playground/webpack/runtime/define property getters","webpack://webpack_playground/webpack/runtime/hasOwnProperty shorthand","webpack://webpack_playground/webpack/runtime/make namespace object","webpack://webpack_playground/./src/js/particle-sys/index.js","webpack://webpack_playground/./src/scss/main.scss"],"names":["MersenneTwister","seed","undefined","Date","getTime","N","M","MATRIX_A","UPPER_MASK","LOWER_MASK","mt","Array","mti","constructor","init_by_array","length","init_seed","prototype","s","init_key","key_length","i","j","k","random_int","y","mag01","kk","random_int31","random_incl","random","random_excl","random_long","a","b","module","exports","Canvas2DFxBase","ele","config","defaultConfig","is","Object","assign","frameCount","mouse","x","ctx","frameIsPaused","isClick","canvasSizefixed","previousFrameTime","performance","now","initBase","tagName","cvs","document","createElement","appendChild","querySelectorAll","canvasWidth","getBoundingClientRect","width","canvasHeight","height","parentElement","getContext","triggerResizingMechanism","window","addEventListener","debounce","visibilityState","addEventHandler","refreshBaseFrameCounter","thisFrameTime","timeElapsed","requestAnimationFrame","color","save","fillStyle","fillRect","restore","e","pos","pointerEventToXY","require","MT","func","delay","timer","$this","context","args","arguments","clearTimeout","setTimeout","apply","arr","isArray","obj","toString","call","indexOf","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","str","fnc","und","nil","hex","test","rgba","rgb","hsl","col","key","defaultInstanceSettings","defaultTweenSettings","randomWithinRange","min","max","getDistance","x0","y0","x1","y1","Math","sqrt","degreeToRadian","degree","PI","out","type","touch","originalEvent","touches","changedTouches","pageX","pageY","targetHasProp","target","prop","isEmpty","val","isNaN","rgbToRgba","rgbValue","exec","hexToRgba","hexValue","rgx","replace","m","r","g","parseInt","hslToRgba","hslValue","h","l","hue2rgb","p","q","t","colorToRgba","getChannelValuesFromRgba","split","map","randomID","digits","codeStr","floor","linearInterpolation","v0","v1","TypeError","colorInterpolation","fromColor","toColor","valueIsValidated","rgba0","rgba1","FIRE","bgColor","space","gravity","wind","projector","motionTrail","enableMouseAndGuestureControl","dispersionRange","directionAngle","particles","density","base","floatingThreshold","lifespan","from","to","opacity","speed","ILLUSION","innerWidth","innerHeight","STARDUST","TRAIL","drawSquare","alpha","globalAlpha","drawCircle","beginPath","arc","closePath","fill","drawLine","strokeColor","strokeWidth","strokeStyle","lineWidth","moveTo","lineTo","stroke","DEFAULT","ParticleSys","pool","init","initProjector","addMouseAndGuestureControl","drawAll","position","speedX","speedY","positionX","positionY","particle","draw","getParticleDrawingType","maxWidth","life","dead","bind","sin","getParticleLaunchDirection","cos","genParticle","push","background","splice","refreshParticlesPosition","fillPool","querySelector","instance"],"mappings":"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","file":"assets/js/particleSys.js","sourcesContent":["/*\n  https://github.com/banksean wrapped Makoto Matsumoto and Takuji Nishimura's code in a namespace\n  so it's better encapsulated. Now you can have multiple random number generators\n  and they won't stomp all over eachother's state.\n\n  If you want to use this as a substitute for Math.random(), use the random()\n  method like so:\n\n  var m = new MersenneTwister();\n  var randomNumber = m.random();\n\n  You can also call the other genrand_{foo}() methods on the instance.\n\n  If you want to use a specific seed in order to get a repeatable random\n  sequence, pass an integer into the constructor:\n\n  var m = new MersenneTwister(123);\n\n  and that will always produce the same random sequence.\n\n  Sean McCullough (banksean@gmail.com)\n*/\n\n/*\n   A C-program for MT19937, with initialization improved 2002/1/26.\n   Coded by Takuji Nishimura and Makoto Matsumoto.\n\n   Before using, initialize the state by using init_seed(seed)\n   or init_by_array(init_key, key_length).\n\n   Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\n   All rights reserved.\n\n   Redistribution and use in source and binary forms, with or without\n   modification, are permitted provided that the following conditions\n   are met:\n\n     1. Redistributions of source code must retain the above copyright\n        notice, this list of conditions and the following disclaimer.\n\n     2. Redistributions in binary form must reproduce the above copyright\n        notice, this list of conditions and the following disclaimer in the\n        documentation and/or other materials provided with the distribution.\n\n     3. The names of its contributors may not be used to endorse or promote\n        products derived from this software without specific prior written\n        permission.\n\n   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n   \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n   A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n   CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n   EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n   PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n   LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n   NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\n   Any feedback is very welcome.\n   http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html\n   email: m-mat @ math.sci.hiroshima-u.ac.jp (remove space)\n*/\n\nvar MersenneTwister = function(seed) {\n\tif (seed == undefined) {\n\t\tseed = new Date().getTime();\n\t}\n\n\t/* Period parameters */\n\tthis.N = 624;\n\tthis.M = 397;\n\tthis.MATRIX_A = 0x9908b0df;   /* constant vector a */\n\tthis.UPPER_MASK = 0x80000000; /* most significant w-r bits */\n\tthis.LOWER_MASK = 0x7fffffff; /* least significant r bits */\n\n\tthis.mt = new Array(this.N); /* the array for the state vector */\n\tthis.mti=this.N+1; /* mti==N+1 means mt[N] is not initialized */\n\n\tif (seed.constructor == Array) {\n\t\tthis.init_by_array(seed, seed.length);\n\t}\n\telse {\n\t\tthis.init_seed(seed);\n\t}\n}\n\n/* initializes mt[N] with a seed */\n/* origin name init_genrand */\nMersenneTwister.prototype.init_seed = function(s) {\n\tthis.mt[0] = s >>> 0;\n\tfor (this.mti=1; this.mti<this.N; this.mti++) {\n\t\tvar s = this.mt[this.mti-1] ^ (this.mt[this.mti-1] >>> 30);\n\t\tthis.mt[this.mti] = (((((s & 0xffff0000) >>> 16) * 1812433253) << 16) + (s & 0x0000ffff) * 1812433253)\n\t\t+ this.mti;\n\t\t/* See Knuth TAOCP Vol2. 3rd Ed. P.106 for multiplier. */\n\t\t/* In the previous versions, MSBs of the seed affect   */\n\t\t/* only MSBs of the array mt[].                        */\n\t\t/* 2002/01/09 modified by Makoto Matsumoto             */\n\t\tthis.mt[this.mti] >>>= 0;\n\t\t/* for >32 bit machines */\n\t}\n}\n\n/* initialize by an array with array-length */\n/* init_key is the array for initializing keys */\n/* key_length is its length */\n/* slight change for C++, 2004/2/26 */\nMersenneTwister.prototype.init_by_array = function(init_key, key_length) {\n\tvar i, j, k;\n\tthis.init_seed(19650218);\n\ti=1; j=0;\n\tk = (this.N>key_length ? this.N : key_length);\n\tfor (; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30)\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1664525) << 16) + ((s & 0x0000ffff) * 1664525)))\n\t\t+ init_key[j] + j; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++; j++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t\tif (j>=key_length) j=0;\n\t}\n\tfor (k=this.N-1; k; k--) {\n\t\tvar s = this.mt[i-1] ^ (this.mt[i-1] >>> 30);\n\t\tthis.mt[i] = (this.mt[i] ^ (((((s & 0xffff0000) >>> 16) * 1566083941) << 16) + (s & 0x0000ffff) * 1566083941))\n\t\t- i; /* non linear */\n\t\tthis.mt[i] >>>= 0; /* for WORDSIZE > 32 machines */\n\t\ti++;\n\t\tif (i>=this.N) { this.mt[0] = this.mt[this.N-1]; i=1; }\n\t}\n\n\tthis.mt[0] = 0x80000000; /* MSB is 1; assuring non-zero initial array */\n}\n\n/* generates a random number on [0,0xffffffff]-interval */\n/* origin name genrand_int32 */\nMersenneTwister.prototype.random_int = function() {\n\tvar y;\n\tvar mag01 = new Array(0x0, this.MATRIX_A);\n\t/* mag01[x] = x * MATRIX_A  for x=0,1 */\n\n\tif (this.mti >= this.N) { /* generate N words at one time */\n\t\tvar kk;\n\n\t\tif (this.mti == this.N+1)  /* if init_seed() has not been called, */\n\t\t\tthis.init_seed(5489);  /* a default initial seed is used */\n\n\t\tfor (kk=0;kk<this.N-this.M;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+this.M] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\tfor (;kk<this.N-1;kk++) {\n\t\t\ty = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\n\t\t\tthis.mt[kk] = this.mt[kk+(this.M-this.N)] ^ (y >>> 1) ^ mag01[y & 0x1];\n\t\t}\n\t\ty = (this.mt[this.N-1]&this.UPPER_MASK)|(this.mt[0]&this.LOWER_MASK);\n\t\tthis.mt[this.N-1] = this.mt[this.M-1] ^ (y >>> 1) ^ mag01[y & 0x1];\n\n\t\tthis.mti = 0;\n\t}\n\n\ty = this.mt[this.mti++];\n\n\t/* Tempering */\n\ty ^= (y >>> 11);\n\ty ^= (y << 7) & 0x9d2c5680;\n\ty ^= (y << 15) & 0xefc60000;\n\ty ^= (y >>> 18);\n\n\treturn y >>> 0;\n}\n\n/* generates a random number on [0,0x7fffffff]-interval */\n/* origin name genrand_int31 */\nMersenneTwister.prototype.random_int31 = function() {\n\treturn (this.random_int()>>>1);\n}\n\n/* generates a random number on [0,1]-real-interval */\n/* origin name genrand_real1 */\nMersenneTwister.prototype.random_incl = function() {\n\treturn this.random_int()*(1.0/4294967295.0);\n\t/* divided by 2^32-1 */\n}\n\n/* generates a random number on [0,1)-real-interval */\nMersenneTwister.prototype.random = function() {\n\treturn this.random_int()*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n\n/* generates a random number on (0,1)-real-interval */\n/* origin name genrand_real3 */\nMersenneTwister.prototype.random_excl = function() {\n\treturn (this.random_int() + 0.5)*(1.0/4294967296.0);\n\t/* divided by 2^32 */\n}\n\n/* generates a random number on [0,1) with 53-bit resolution*/\n/* origin name genrand_res53 */\nMersenneTwister.prototype.random_long = function() {\n\tvar a=this.random_int()>>>5, b=this.random_int()>>>6;\n\treturn(a*67108864.0+b)*(1.0/9007199254740992.0);\n}\n\n/* These real versions are due to Isaku Wada, 2002/01/09 added */\n\nmodule.exports = MersenneTwister;\n","import { debounce, is, pointerEventToXY } from './function';\nexport class Canvas2DFxBase {\n  constructor(\n    ele, config, defaultConfig\n  ) {\n    config = is.obj(config) ? config : {};\n    defaultConfig = is.obj(defaultConfig) ? defaultConfig : {};\n    this.config = Object.assign(defaultConfig, config);\n    this.ele = ele;\n    this.frameCount = 0;\n    this.mouse = {\n      x: 0,\n      y: 0\n    };\n    this.ctx = null;\n    this.frameIsPaused = false;\n    this.isClick = false;\n    this.canvasSizefixed = false;\n    this.previousFrameTime = performance.now();\n    this.initBase();\n  }\n  initBase() {\n    if (this.ele.tagName !== 'CANVAS') {\n      const cvs = document.createElement('canvas');\n      this.ele.appendChild(cvs);\n      this.cvs = this.ele.querySelectorAll('canvas')[0];\n      this.canvasWidth = this.ele.getBoundingClientRect().width;\n      this.canvasHeight = this.ele.getBoundingClientRect().height;\n    }\n    else {\n      this.cvs = this.ele;\n      this.canvasWidth = this.ele.parentElement.getBoundingClientRect().width;\n      this.canvasHeight = this.ele.parentElement.getBoundingClientRect().height;\n    }\n\n    this.ctx = this.cvs.getContext('2d');\n    this.triggerResizingMechanism();\n\n    window.addEventListener('resize', debounce(() => {\n      this.triggerResizingMechanism();\n    }, 500));\n\n    window.addEventListener('visibilitychange', () => {\n      if (document.visibilityState !== \"visible\") {\n        this.frameIsPaused = true;\n      }\n    });\n\n    this.addEventHandler();\n\n    this.refreshBaseFrameCounter();\n\n  }\n  refreshBaseFrameCounter() {\n    let thisFrameTime = performance.now();\n    this.timeElapsed = (thisFrameTime - this.previousFrameTime) / 1000;\n    if (this.frameIsPaused) {\n      this.timeElapsed = 0;\n      this.frameIsPaused = false;\n    }\n    this.frameCount += 1;\n    this.previousFrameTime = thisFrameTime\n    requestAnimationFrame(() => {\n      this.refreshBaseFrameCounter();\n    })\n  }\n  triggerResizingMechanism() {\n    if (this.canvasSizefixed) return;\n    if (this.ele.tagName !== 'CANVAS') {\n      let canvasWidth = this.ele.getBoundingClientRect().width;\n      let canvasHeight = this.ele.getBoundingClientRect().height;\n      this.cvs.width = canvasWidth;\n      this.cvs.height = canvasHeight;\n    }\n    else {\n      let canvasWidth = this.cvs.parentElement.getBoundingClientRect().width;\n      let canvasHeight = this.cvs.parentElement.getBoundingClientRect().height;\n      this.cvs.width = canvasWidth;\n      this.cvs.height = canvasHeight;\n    }\n  }\n\n\n  setCanvasSize(width, height) {\n    this.canvasSizefixed = true;\n    this.cvs.width = width;\n    this.cvs.height = height;\n  }\n\n  background(color) {\n    this.ctx.save();\n    this.ctx.fillStyle = color;\n    this.ctx.fillRect(0, 0, this.cvs.width, this.cvs.height);\n    this.ctx.restore();\n  }\n\n\n\n  addEventHandler() {\n    this.cvs.addEventListener('click', () => {\n      this.isClick = true;\n    })\n    this.cvs.addEventListener('touchstart', () => {\n      this.isClick = true;\n\n    })\n\n    this.cvs.addEventListener('mousemove', (e) => {\n      let pos = pointerEventToXY(e);\n      this.mouse = {\n        x: pos.x,\n        y: pos.y\n      }\n    })\n\n    this.cvs.addEventListener('touchmove', (e) => {\n      let pos = pointerEventToXY(e);\n      this.mouse = {\n        x: pos.x,\n        y: pos.y\n      }\n    })\n  }\n\n}","const MersenneTwister = require('mersenne-twister');\nconst MT = new MersenneTwister();\n\n\nexport function debounce(func, delay) {\n  let timer = null;\n  const $this = this;\n  return () => {\n    const context = $this;\n    const args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(context, args);\n    }, delay);\n  };\n}\n\nexport const is = {\n  arr: a => Array.isArray(a),\n  obj: a => Object.prototype.toString.call(a).indexOf('Object') > -1,\n  pth: a => is.obj(a) && a.hasOwnProperty('totalLength'),\n  svg: a => a instanceof SVGElement,\n  inp: a => a instanceof HTMLInputElement,\n  dom: a => a.nodeType || is.svg(a),\n  str: a => typeof a === 'string',\n  fnc: a => typeof a === 'function',\n  und: a => typeof a === 'undefined',\n  nil: a => is.und(a) || a === null,\n  hex: a => /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a),\n  rgba: a => /^rgba/.test(a),\n  rgb: a => /^rgb/.test(a),\n  hsl: a => /^hsl/.test(a),\n  col: a => (is.hex(a) || is.rgb(a) || is.hsl(a)),\n  key: a => !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes',\n}\n\nexport function randomWithinRange(min, max, seed) {\n  return MT.random(seed) * (max - min) + min;\n}\n\nexport function getDistance(x0, y0, x1, y1) {\n  return Math.sqrt((x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0));\n}\n\nexport function degreeToRadian(degree) {\n  return (degree / 180) * Math.PI;\n}\n\n/**\n * 統一 touchEvent/mouseEvent 的事件觸發座標取得方式\n * @export\n * @param {object}  傳入的event 物件\n * @returns {Object} 一個物件, 內含事件觸發座標的X/Y 座標值\n */\nexport function pointerEventToXY(e) {\n  var out = { x: 0, y: 0 };\n  if (e.type === 'touchstart' || e.type === 'touchmove' || e.type === 'touchend' || e.type === 'touchcancel') {\n    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n    out.x = touch.pageX;\n    out.y = touch.pageY;\n  } else if (e.type === 'mousedown' || e.type === 'mouseup' || e.type === 'mousemove' || e.type === 'mouseover' || e.type === 'mouseout' || e.type === 'mouseenter' || e.type === 'mouseleave') {\n    out.x = e.pageX;\n    out.y = e.pageY;\n  }\n  return out;\n}\n\n/**\n * 直接呼叫hasOwnProperty的原型方法(用在hasOwnProperty被改動過的狀況)\n *\n * @export\n * @param {object} target 目標物件\n * @param {string} prop 目標prop\n * @returns {boolean} 是/否\n */\nexport function targetHasProp(target, prop) {\n  return Object.prototype.hasOwnProperty.call(target, prop);\n}\n\n/**\n * 確認一個變數/值是否為空(0不算空值)\n * @export\n * @param {*} val\n * @returns {boolean} 是/否\n */\nexport function isEmpty(val) {\n  return typeof val === 'number' ? isNaN(val) : !val;\n}\n\n\nfunction rgbToRgba(rgbValue) {\n  const rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? `rgba(${rgb[1]},1)` : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  const rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const hex = hexValue.replace(rgx, (m, r, g, b) => r + r + g + g + b + b);\n  const rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  const r = parseInt(rgb[1], 16);\n  const g = parseInt(rgb[2], 16);\n  const b = parseInt(rgb[3], 16);\n  return `rgba(${r},${g},${b},1)`;\n}\n\nfunction hslToRgba(hslValue) {\n  const hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  const h = parseInt(hsl[1], 10) / 360;\n  const s = parseInt(hsl[2], 10) / 100;\n  const l = parseInt(hsl[3], 10) / 100;\n  const a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  let r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return `rgba(${r * 255},${g * 255},${b * 255},${a})`;\n}\n\nexport function colorToRgba(val) {\n  if (is.rgb(val)) return rgbToRgba(val);\n  if (is.hex(val)) return hexToRgba(val);\n  if (is.hsl(val)) return hslToRgba(val);\n}\n\nexport function getChannelValuesFromRgba(rgba) {\n  return rgba.replace(/^(rgb|rgba)\\(/, '').replace(/\\)$/, '').replace(/\\s/g, '').split(',').map(x => parseInt(x));\n}\n\nexport function randomID(digits) {\n  let codeStr = 'abcdefghjkmnpqrstuvwxyzABCDEFGHJKMNPQRSTUVXYZ23456789';\n  let str = '';\n  for (let i = 0; i < digits; i++) {\n    str += codeStr[Math.floor(randomWithinRange(0, codeStr.length))]\n  }\n  return str;\n}\n\n\n","import { is, colorToRgba, getChannelValuesFromRgba } from './function';\n\n/**\n * 線性內插函數\n *\n * @export\n * @param {*} x\n * @param {*} min\n * @param {*} max\n * @param {*} virtualMin\n * @param {*} virtualMax\n * @returns\n */\nexport function linearInterpolation(x, x0, x1, v0, v1) {\n  if (!(x >= x0 && x <= x1) && !(x <= x0 && x >= x1)) return new TypeError(`linearInterpolation: 參數x 的值必須大於參數min 並小於參數max, 但x為${x},x0為${x0},x1為${x1}`)\n  return ((x - x0) / (x1 - x0)) * (v1 - v0) + v0;\n}\n\n\nexport function colorInterpolation(x, x0, x1, fromColor, toColor) {\n  // 先驗證收到的color 是正式規範的色彩格式 (hex/rgb/rgba/hsl)\n  let valueIsValidated = is.col(fromColor) && is.col(toColor);\n  if (!valueIsValidated) return new TypeError(\"colorInterpolation: 色彩參數非規制\");\n\n  let rgba0 = getChannelValuesFromRgba(colorToRgba(fromColor)),\n    rgba1 = getChannelValuesFromRgba(colorToRgba(toColor));\n  let rgba = [];\n  for (let i = 0; i < 4; i++) {\n    rgba[i] = linearInterpolation(x, x0, x1, rgba0[i], rgba1[i])\n  }\n\n  return `rgba(${rgba})`;\n}\n\n\n","export const FIRE = {\n  bgColor: 'black',\n  space: {\n    gravity: {\n      x: 0,\n      y: 20\n    },\n    wind: {\n      x: 0,\n      y: 0\n    }\n  },\n  projector: {\n    motionTrail: (x) => null,//  not valid if mouseControl is enabled.\n    enableMouseAndGuestureControl: true,\n    dispersionRange: 60,\n    directionAngle: 0,\n    width: 10,\n    height: 10,\n  },\n  particles: {\n    density: 50,\n    type: \"circle\",\n    width: {\n      base: 20,\n      floatingThreshold: 15\n    },\n    lifespan: {\n      base: 80,\n      floatingThreshold: 10\n    },\n    color: {\n      from: \"rgba(245, 192, 59,1)\",\n      to: \"rgba(255,0,0,0.8)\"\n    },\n    opacity: 1,\n    speed: {\n      base: 100,\n      floatingThreshold: {\n        x: 30,\n        y: 0\n      }\n    },\n  },\n}","\nexport const ILLUSION = {\n  bgColor: 'black',\n  space: {\n    gravity: {\n      x: 0,\n      y: 0\n    },\n    wind: {\n      x: 0,\n      y: 0\n    }\n  },\n  projector: {\n    motionTrail: (x) => null,//  not valid if mouseControl is enabled.\n    enableMouseAndGuestureControl: false,\n    dispersionRange: 30,\n    directionAngle: 0,\n    width: window.innerWidth,\n    height: window.innerHeight,\n  },\n  particles: {\n    density: 5,\n    type: \"circle\",\n    width: {\n      base: 20,\n      floatingThreshold: 8\n    },\n    lifespan: {\n      base: 100,\n      floatingThreshold: 30\n    },\n    color: {\n      from: \"rgba(130, 155, 155,1)\",\n      to: \"rgba(255, 0, 0,0.75)\"\n    },\n    opacity: 0.75,\n    speed: {\n      base: 50,\n      floatingThreshold: {\n        x: 0,\n        y: 0\n      }\n    },\n  },\n}","export const STARDUST = {\n  bgColor: 'black',\n  space: {\n    gravity: {\n      x: 0,\n      y: 0\n    },\n    wind: {\n      x: 0,\n      y: 0\n    }\n  },\n  projector: {\n    motionTrail: (x) => null,//  not valid if mouseControl is enabled.\n    enableMouseAndGuestureControl: false,\n    dispersionRange: 80,\n    directionAngle: 0,\n    width: 100,\n    height: window.innerHeight\n  },\n  particles: {\n    density: 50,\n    type: \"circle\",\n    width: {\n      base: 2,\n      floatingThreshold: 2\n    },\n    lifespan: {\n      base: 80,\n      floatingThreshold: 10\n    },\n    color: {\n      from: \"rgba(255,255,255,1)\",\n      to: \"rgba(255,255,255,0.8)\"\n    },\n    opacity: 1,\n    speed: {\n      base: 100,\n      floatingThreshold: {\n        x: 1,\n        y: 1\n      }\n    },\n  },\n}\n","export const TRAIL = {\n  bgColor: 'black',\n  space: {\n    gravity: {\n      x: 0,\n      y: 0\n    },\n    wind: {\n      x: 0,\n      y: 0\n    }\n  },\n  projector: {\n    motionTrail: (x) => null,//  not valid if mouseControl is enabled.\n    enableMouseAndGuestureControl: true,\n    dispersionRange: 0,\n    directionAngle: 0,\n    width: 1,\n    height: 1,\n  },\n  particles: {\n    density: 10,\n    type: \"circle\",\n    width: {\n      base: 50,\n      floatingThreshold: 0\n    },\n    lifespan: {\n      base: 150,\n      floatingThreshold: 0\n    },\n    color: {\n      from: \"rgba(255, 0, 255,1)\",\n      to: \"rgba(255, 255, 0,1)\"\n    },\n    opacity: 1,\n    speed: {\n      base: 100,\n      floatingThreshold: {\n        x: 0,\n        y: 0\n      }\n    },\n  },\n}","export function drawSquare(ctx, x, y, width, color, alpha) {\n  ctx.save();\n  ctx.fillStyle = color;\n  ctx.globalAlpha = alpha;\n  ctx.fillRect(x - width / 2, y - width / 2, width, width);\n  ctx.restore();\n}\nexport function drawCircle(ctx, x, y, width, color, alpha) {\n  ctx.save()\n  ctx.fillStyle = color;\n  ctx.globalAlpha = alpha;\n  ctx.beginPath();\n  ctx.arc(x, y, width / 2, 0, Math.PI * 2, true);\n  ctx.closePath();\n  ctx.fill();\n  ctx.restore();\n}\nexport function drawLine(ctx, x0, y0, x1, y1, strokeColor, strokeWidth) {\n  ctx.strokeStyle = strokeColor;\n  ctx.lineWidth = strokeWidth;\n  ctx.beginPath();\n  ctx.moveTo(x0, y0);\n  ctx.lineTo(x1, y1);\n  ctx.closePath();\n  ctx.stroke();\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport { Canvas2DFxBase } from '../base';\nimport { randomWithinRange, degreeToRadian } from '../function';\nimport { drawSquare, drawCircle } from '../shape';\nimport { linearInterpolation, colorInterpolation } from '../interpolation';\nimport { FIRE } from './fire';\nimport { ILLUSION } from './illusion';\nimport { TRAIL } from './trail';\nimport { STARDUST } from './stardust';\n\nconst DEFAULT = {\n  bgColor: 'black',\n  space: {\n    gravity: {\n      x: 0,\n      y: 0\n    },\n    wind: {\n      x: 0,\n      y: 0\n    }\n  },\n  projector: {\n    motionTrail: (x) => null,//  not valid if mouseControl is enabled.\n    enableMouseAndGuestureControl: false,\n    dispersionRange: 20,\n    directionAngle: 90,\n    width: 1,\n    height: 1,\n  },\n  particles: {\n    density: 10,\n    type: \"circle\",\n    width: {\n      base: 10,\n      floatingThreshold: 0\n    },\n    lifespan: {\n      base: 300,\n      floatingThreshold: 0\n    },\n    color: {\n      from: \"rgba(255, 255, 255,1)\",\n      to: \"rgba(255, 255, 255,1)\"\n    },\n    opacity: 1,\n    speed: {\n      base: 100,\n      floatingThreshold: {\n        x: 0,\n        y: 0\n      }\n    },\n  },\n}\n\n\n\nclass ParticleSys extends Canvas2DFxBase {\n  constructor(ele, config, defaultConfig) {\n    super(ele, config, defaultConfig);\n    this.pool = [];\n    this.init();\n  }\n  init() {\n    this.initProjector();\n    if (this.config.projector.enableMouseAndGuestureControl) {\n      this.addMouseAndGuestureControl();\n    }\n    this.drawAll();\n  }\n\n  initProjector() {\n    this.projector = {\n      width: this.config.projector.width,\n      height: this.config.projector.height,\n      position: {\n        x: this.cvs.width / 2,\n        y: this.cvs.height / 2\n      }\n    }\n  }\n\n  genParticle(type, width, color, speedX, speedY, positionX, positionY, lifespan, opacity) {\n    let $this = this;\n    let particle = {\n      type: type,\n      draw: $this.getParticleDrawingType(type),\n      maxWidth: width,\n      width: width,\n      color: color,\n      lifespan: lifespan,\n      life: lifespan,\n      opacity: opacity,\n      speed: {\n        x: speedX,\n        y: speedY,\n      },\n      position: {\n        x: positionX,\n        y: positionY\n      },\n      dead: false\n    }\n    return particle;\n  }\n\n  addMouseAndGuestureControl() {\n    this.projector.position = {\n      x: this.mouse.x,\n      y: this.mouse.y,\n    }\n\n    requestAnimationFrame(this.addMouseAndGuestureControl.bind(this))\n  }\n\n\n  getParticleLaunchDirection() {\n    return randomWithinRange(\n      degreeToRadian(-this.config.projector.directionAngle - 180 - this.config.projector.dispersionRange / 2),\n      degreeToRadian(-this.config.projector.directionAngle - 180 + this.config.projector.dispersionRange / 2),\n    )\n  }\n\n  fillPool() {\n    let particles = this.config.particles;\n    let projector = this.projector;\n    let type = particles.type;\n    let color = particles.color.from;\n    let opacity = particles.opacity;\n    let positionX = projector.position.x + randomWithinRange(-projector.width / 2, projector.width / 2);\n    let positionY = projector.position.y + randomWithinRange(-projector.height / 2, projector.height / 2);\n    for (let i = 0; i < this.config.particles.density / 10; i++) {\n      let width = particles.width.base + randomWithinRange(-particles.width.floatingThreshold, particles.width.floatingThreshold);\n      let lifespan = particles.lifespan.base + randomWithinRange(-particles.lifespan.floatingThreshold, particles.lifespan.floatingThreshold);\n      let speedX = particles.speed.base * Math.sin(this.getParticleLaunchDirection()) + randomWithinRange(-particles.speed.floatingThreshold.x, particles.speed.floatingThreshold.x) + this.config.space.gravity.x + this.config.space.wind.x;\n      let speedY = particles.speed.base * Math.cos(this.getParticleLaunchDirection()) + randomWithinRange(-particles.speed.floatingThreshold.y, particles.speed.floatingThreshold.y) + this.config.space.gravity.y + this.config.space.wind.y;\n      let particle = this.genParticle(type, width, color, speedX, speedY, positionX, positionY, lifespan, opacity);\n      this.pool.push(particle);\n    }\n  }\n\n  refreshParticlesPosition() {\n    for (let i = 0; i < this.pool.length; i++) {\n      this.pool[i].position.x += this.pool[i].speed.x * this.timeElapsed;\n      this.pool[i].position.y += this.pool[i].speed.y * this.timeElapsed;\n    }\n  }\n\n  getParticleDrawingType(type) {\n    switch (type) {\n      case 'square':\n        return drawSquare\n      case 'circle':\n        return drawCircle\n    }\n  }\n\n\n  drawAll() {\n    this.background(this.config.bgColor);\n    for (let i = 0; i < this.pool.length; i++) {\n      if (!this.pool[i].dead) {\n        this.pool[i].draw(this.ctx, this.pool[i].position.x, this.pool[i].position.y, this.pool[i].width, this.pool[i].color, this.pool[i].opacity);\n        this.pool[i].life -= 1;\n        if (this.pool[i].life > 0) {\n          this.pool[i].width = linearInterpolation(this.pool[i].life, this.pool[i].lifespan, 0, this.pool[i].maxWidth, 0);\n          this.pool[i].opacity = linearInterpolation(this.pool[i].life, this.pool[i].lifespan, 0, this.config.particles.opacity, 0);\n          this.pool[i].color = colorInterpolation(this.pool[i].life, this.pool[i].lifespan, 0, this.config.particles.color.from, this.config.particles.color.to);\n        }\n        else {\n          this.pool[i].dead = true;\n        }\n      }\n      else {\n        this.pool.splice(i, 1);\n        i--;\n      }\n    }\n\n    this.refreshParticlesPosition();\n\n    this.fillPool();\n\n    requestAnimationFrame(this.drawAll.bind(this))\n  }\n\n}\n\n(() => {\n  let cvs = document.querySelector('canvas');\n  let instance = new ParticleSys(cvs, STARDUST, DEFAULT);\n})()","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}