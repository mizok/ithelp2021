{"version":3,"sources":["webpack://webpack_playground/./src/js/class.js","webpack://webpack_playground/webpack/bootstrap","webpack://webpack_playground/webpack/runtime/define property getters","webpack://webpack_playground/webpack/runtime/hasOwnProperty shorthand","webpack://webpack_playground/webpack/runtime/make namespace object","webpack://webpack_playground/./src/js/magnet-animation/index.js","webpack://webpack_playground/./src/scss/main.scss"],"names":["Vector2D","x","y","Math","sqrt","lengthSquared","length","vec","k","lengthVec","proj","para","projection","u","positive","scaleBy","anticlockwise","vec1","vec2","acos","dotProduct","Point2D","CANVAS","width","height","background","BALLS","radius","mass","getDist","x0","y0","x1","y1","MAGNET_SIZE","MAGNET_FORCE_CONST","Circle","fillColor","strokeColor","lineWidth","ctx","save","fillStyle","strokeStyle","beginPath","arc","PI","closePath","fill","stroke","restore","Ball","friction","force","acc","velocity","dt","incrementBy","multiply","MagnetAnimation","cvs","canvas","frameIsPaused","balls","mouse","magnet","init","time","performance","now","setCanvasSize","initEvents","initBalls","animate","forEach","o","i","ball","push","initVisibilityChangeEvent","initMouseEvent","window","addEventListener","document","visibilityState","isClicked","e","rect","getBoundingClientRect","clientX","left","clientY","top","console","log","drawMagnet","drawBalls","draw","$this","frameDelay","clearRect","drawAll","refreshBallsLocation","refreshBallsSpeed","refreshBallsAcc","requestAnimationFrame","bind","refreshLocation","refreshSpeed","distToMouse","style","backgroundColor","querySelector","getContext","instance"],"mappings":"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","file":"assets/js/magnetAnimation.js","sourcesContent":["export class Vector2D {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  lengthSquared() {\n    return this.x * this.x + this.y * this.y;\n  }\n  /**\n   * 求純量值\n   *\n   * @returns\n   * @memberof Vector2D\n   */\n  length() {\n    return Math.sqrt(this.lengthSquared());\n  }\n  /**\n   * 複製該向量\n   *\n   * @returns\n   * @memberof Vector2D\n   */\n  clone() {\n    return new Vector2D(this.x, this.y);\n  }\n  /**\n   *倒轉該向量\n   *\n   * @memberof Vector2D\n   */\n  negate() {\n    this.x = - this.x;\n    this.y = - this.y;\n  }\n\n  /**\n   * 把該向量轉變成單位向量\n   *\n   * @returns\n   * @memberof Vector2D\n   */\n  normalize() {\n    let length = this.length(); if (length > 0) {\n      this.x /= length;\n      this.y /= length;\n    }\n    return this.length();\n  }\n\n  /**\n   * 回傳與某向量的向量和\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  add(vec) {\n    return new Vector2D(this.x + vec.x, this.y + vec.y);\n  }\n\n  /**\n   * 加上某向量\n   *\n   * @param {*} vec\n   * @memberof Vector2D\n   */\n  incrementBy(vec) {\n    this.x += vec.x;\n    this.y += vec.y;\n  }\n\n  /**\n   * \n   * 回傳與某向量的向量差\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  subtract(vec) {\n    return new Vector2D(this.x - vec.x, this.y - vec.y);\n  }\n\n  /**\n   * 扣除某向量\n   *\n   * @param {*} vec\n   * @memberof Vector2D\n   */\n  decrementBy(vec) {\n    this.x -= vec.x;\n    this.y -= vec.y;\n  }\n\n\n  /**\n     * 回傳擴增k倍後的向量\n     *\n     * @param {*} k\n     * @memberof Vector2D\n     */\n  multiply(k) {\n    return new Vector2D(k * this.x, k * this.y);\n  }\n\n  /**\n   * 擴增該向量\n   *\n   * @param {*} k\n   * @memberof Vector2D\n   */\n  scaleBy(k) {\n    this.x *= k; this.y *= k;\n  }\n\n\n  /**\n   * 求取該向量與其他向量的內積\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  dotProduct(vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n\n  /**\n   * 求取此向量映射在某向量上的長度\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  projection(vec) {\n    const length = this.length();\n    const lengthVec = vec.length();\n    let proj;\n    if ((length == 0) || (lengthVec == 0)) {\n      proj = 0;\n    } else {\n      proj = (this.x * vec.x + this.y * vec.y) / lengthVec;\n    }\n    return proj;\n  }\n\n  /**\n   * 回傳一個新向量，新向量的方向會跟作為參數向量相同，但是量值上是作為此向量投射在參數向量上的長度\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  project(vec) {\n    return vec.para(this.projection(vec));\n  }\n\n\n  /**\n     * 根據傳入的u值來回傳一個u倍(或-u倍)的單位向量\n     *\n     * @param {*} vec\n     * @returns\n     * @memberof Vector2D\n     */\n  para(u, positive = true) {\n\n    const length = this.length();\n    const vec = new Vector2D(this.x, this.y);\n    if (positive) {\n      vec.scaleBy(u / length);\n    } else {\n      vec.scaleBy(-u / length);\n    }\n    return vec;\n  }\n\n\n  /**\n   * 回傳垂直與此向量的u倍單位向量\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  perp(u, anticlockwise = true) {\n    if (typeof (anticlockwise) === 'undefined') anticlockwise = true;\n    var length = this.length();\n    var vec = new Vector2D(this.y, -this.x);\n    if (length > 0) {\n      if (anticlockwise) {\n        vec.scaleBy(u / length);\n      } else {\n        vec.scaleBy(-u / length);\n      }\n    } else {\n      vec = new Vector2D(0, 0);\n    }\n    return vec;\n  }\n\n  addScaled(vec, k) {\n    return new Vector2D(this.x + k * vec.x, this.y + k * vec.y);\n  }\n\n\n  /**\n   * 求取該向量與其他向量的夾角\n   *\n   * @param {*} vec\n   * @returns\n   * @memberof Vector2D\n   */\n  static angleBetween = function (vec1, vec2) {\n    return Math.acos(vec1.dotProduct(vec2) / (vec1.length() * vec2.length()));\n  }\n\n}\n\nexport class Point2D {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Vector2D } from '../class'\n\nconst CANVAS = {\n  width: 800,\n  height: 600,\n  background: 'gray'\n}\n\nconst BALLS = [\n  {\n    x: 300,\n    y: 300,\n    radius: 25,\n    mass: 50,\n  },\n  {\n    x: 380,\n    y: 380,\n    radius: 25,\n    mass: 50,\n  },\n  {\n    x: 375,\n    y: 330,\n    radius: 25,\n    mass: 50,\n  },\n  {\n    x: 200,\n    y: 200,\n    radius: 55,\n    mass: 100,\n  },\n  {\n    x: 250,\n    y: 250,\n    radius: 15,\n    mass: 50,\n  },\n  {\n    x: 450,\n    y: 450,\n    radius: 10,\n    mass: 10,\n  },\n  {\n    x: 600,\n    y: 600,\n    radius: 75,\n    mass: 50,\n  },\n]\n\nconst getDist = (x0, y0, x1, y1) => {\n  return Math.sqrt((x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0));\n}\n\nconst MAGNET_SIZE = 500;\n\nconst MAGNET_FORCE_CONST = 7000;\n\nclass Circle {\n  constructor(x, y, radius, fillColor = 'transparent', strokeColor = 'black', lineWidth = 1) {\n    this.x = x;\n    this.y = y;\n    this.fillColor = fillColor;\n    this.strokeColor = strokeColor;\n    this.lineWidth = lineWidth;\n    this.radius = radius;\n  }\n  draw(ctx) {\n    ctx.save()\n    ctx.fillStyle = this.fillColor;\n    ctx.strokeStyle = this.strokeColor;\n    ctx.lineWidth = this.lineWidth;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    ctx.stroke();\n    ctx.restore();\n  }\n}\n\nclass Ball extends Circle {\n  constructor(x, y, radius, mass, fillColor = 'rgba(0,0,0,0.25)', strokeColor = 'transparent') {\n    super(x, y, radius, fillColor, strokeColor);\n    this.friction = 0.995;\n    this.force = new Vector2D(0, 0);\n    this.acc = new Vector2D(0, 0);\n    this.velocity = new Vector2D(0, 0);\n    this.mass = mass;\n  }\n  refreshLocation(dt) {\n    this.x += this.velocity.x * dt;\n    this.y += this.velocity.y * dt;\n  }\n  refreshSpeed(dt) {\n    this.velocity.scaleBy(this.friction);\n    this.velocity.incrementBy(this.acc.multiply(dt));\n  }\n}\n\nclass MagnetAnimation {\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.cvs = ctx.canvas;\n    this.frameIsPaused = false;\n    this.balls = [];\n    this.mouse = {\n      x: 0,\n      y: 0\n    }\n    this.magnet = null\n    this.init();\n  }\n  init() {\n    this.time = performance.now();\n    this.setCanvasSize();\n    this.initEvents();\n    this.initBalls();\n    this.animate();\n  }\n  initBalls() {\n    BALLS.forEach((o, i) => {\n      const ball = new Ball(o.x, o.y, o.radius, o.mass);\n      this.balls.push(ball);\n    })\n  }\n  initEvents() {\n    this.initVisibilityChangeEvent();\n    this.initMouseEvent();\n  }\n  initVisibilityChangeEvent() {\n    window.addEventListener('visibilitychange', () => {\n      if (document.visibilityState !== \"visible\") {\n        this.frameIsPaused = true;\n      }\n      else {\n        this.frameIsPaused = false;\n        this.time = performance.now();\n      }\n    });\n  }\n  initMouseEvent() {\n    this.cvs.addEventListener('mousedown', () => {\n      this.isClicked = true;\n    })\n    this.cvs.addEventListener('mousemove', (e) => {\n      if (!this.isClicked) return;\n      let rect = this.cvs.getBoundingClientRect();\n      this.mouse.x = e.clientX - rect.left;\n      this.mouse.y = e.clientY - rect.top;\n    })\n    this.cvs.addEventListener('mouseup', () => {\n      console.log(this.balls);\n      this.isClicked = false;\n    })\n    this.cvs.addEventListener('mouseleave', () => {\n      this.isClicked = false;\n    })\n  }\n\n  drawAll() {\n    this.drawMagnet();\n    this.drawBalls();\n  }\n\n  drawMagnet() {\n    new Circle(this.mouse.x, this.mouse.y, MAGNET_SIZE / 2).draw(this.ctx);\n  }\n\n  drawBalls() {\n    this.balls.forEach((o, i) => {\n      o.draw(this.ctx);\n    })\n  }\n\n  animate() {\n    if (this.frameIsPaused) {\n      this.animate();\n    }\n    const $this = this;\n    const frameDelay = 10 // frameDelay 是用來做動畫抽幀的常數，可以想像成會讓動畫加速！\n    const dt = (performance.now() - this.time) * frameDelay / 1000;\n    this.ctx.clearRect(0, 0, this.cvs.width, this.cvs.height);\n    this.drawAll();\n    this.refreshBallsLocation(dt);\n    this.refreshBallsSpeed(dt);\n    this.refreshBallsAcc();\n\n    this.time = performance.now();\n    requestAnimationFrame(this.animate.bind($this));\n  }\n\n  refreshBallsLocation(dt) {\n    this.balls.forEach((o, i) => {\n      o.refreshLocation(dt);\n    })\n  }\n\n  refreshBallsSpeed(dt) {\n    this.balls.forEach((o, i) => {\n      o.refreshSpeed(dt);\n    })\n  }\n\n  refreshBallsAcc() {\n    this.balls.forEach((o, i) => {\n      const distToMouse = getDist(this.mouse.x, this.mouse.y, o.x, o.y);\n      if (distToMouse < MAGNET_SIZE / 2 + o.radius && distToMouse > 1e-2) {\n        o.force = new Vector2D(this.mouse.x - o.x, this.mouse.y - o.y).para(MAGNET_FORCE_CONST / (distToMouse));\n        o.acc = o.force.multiply(1 / o.mass);\n      }\n      else {\n        o.force = new Vector2D(0, 0);\n        o.acc = new Vector2D(0, 0);\n      }\n    })\n  }\n\n  setCanvasSize() {\n    this.cvs.width = CANVAS.width;\n    this.cvs.height = CANVAS.height;\n    this.cvs.style.backgroundColor = CANVAS.background;\n  }\n}\n\n\n(() => {\n  let ctx = document.querySelector('canvas').getContext('2d');\n  let instance = new MagnetAnimation(ctx);\n})()","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}